const dracView =  //perguntas e respostas pré definidas para a rota do drácula
[       //FASE 0
    {
        "pergunta":
        {
            "numero": "0", 
            "texto": "E agora? O que Drácula deve fazer? \n A) Drácula viaja até Forks para encontrar os Cullen \n B) Drácula bebe o sangue dos adolescentes \n C) Drácula dá um discurso para os adolescentes"
        },
        "certa": 
        {
            "letra": "B",
            "texto": "Resposta B)\n Drácula se alimenta do sangue das adolescentes e fica surpreso que não precisa se esforçar tanto para uma caçada. Aparentemente todos queriam que ele os mordessem. Estaria a humanidade louca? Um pouco mais forte que outrora, ele segue em direção ao crepúsculo"
        },
        "primeiroCenarioErro":
        {
            "letra": "A",
            "texto": "Resposta A)\n Drácula se sente fraco e cansado. Ao chegar em Forks, sua primeira ação é tentar se alimentar. Infelizmente, é pego pelos lobisomens. Drácula resiste bravamente, mas não consegue ganhar essa luta. Ele até tenta usar seus poderes, mas a falta de alimentação limita suas habilidades. Antes de morrer, o grasnar furioso das feras ensurdeceram seus ouvidos"
        },
        "segundoCenarioErro":
        {
            "letra": "C",
            "texto": "Resposta C)\n Drácula, indo contra toda sua natureza, tenta aconselhar aqueles jovens. Mas o grito estridente e incessante dos adolescentes ao vê-lo o irrita. Ele volta para seu castelo, tentando inutilmente abafar os ruídos. Desanimados com seu sumiço, os adolescentes invadem o local ao amanhacer e expõe o muito fraco vampiro ao sol para vê-lo brilhar. Drácula entra em combustão, porque alguns vampiros não brilham!"
        }
    },
    
    //FASE 1: DUAS PERGUNTAS
    {
        "pergunta":
        {
            "numero": "1",  
            "texto": "O cheiro é praticamente irresistível. O que Drácula deve fazer? \n A) Drácula segue o cheiro \n B) Drácula não segue o cheiro"
        }, 
        "certa":
        {
            "letra": "B",
            "texto": "Resposta B)\n Drácula resiste fortemente contra seus instintos primitivos. Estava ali com uma missão, encontrar os vampiros. Prefere se embrenhar na floresta, afinal, se fosse ele, provavelmente se instalaria sob as copas das árvores."
        },
        "primeiroCenarioErro": 
        {
            "letra": "A",
            "texto": "Resposta A)\n Drácula não consegue se conter, e segue em direção ao cheiro doce"

        }
    },

    //FASE 2 (3 opções) - Se na fase 1 escolher seguir o cheiro
    {
      "pergunta":
        {
            "numero": "2",  
            "texto": "Drácula sente o cheiro adocicado, e o veneno automaticamente escorrega de sua boca. E agora? Como deve agir? \n  A) Tentar acordá-la gentilmente \n  B) Apenas continuar admirando Bela da sacada \n C) Tentar se alimentar do sangue de Bela  "
        }, 
        "certa":  
        {
            "letra": "C",
            "texto": "Resposta C)\n Drácula pula para dentro do quarto da garota pronto para atacar...! Mas é bruscamente impedido por Edward e Alice Cullen que estavam observando todos os seus passos. Droga! Estava tão perto! Ainda assim, tentou ficar firme: o propósito de sua viagem estava bem a sua frente"
        },
        "primeiroCenarioErro":
        {
            "letra": "B",
            "texto": "Resposta B)\n Drácula fica tão admirado pela lembrança de Elisabeta, que passa toda a noite observando Bela dormir. O sol nasce sem o vampiro sequer perceber e, mesmo escondido pelas grossas nuvens de Forks, é o suficiente para incinerá-lo sem possibilidade de resistência"
        },
        "segundoCenarioErro":
        {
            "letra": "A",
            "texto": "Resposta A)\n Drácula percebe que aquela cidade está o deixando molenga. Quando em sua vida pós-morte havia sequer cogitado ser gentil com alguém? Resolveu ignorar toda aquela bagunça e voltar para Romênia. Os adolescentes, apesar de irritantes, eram alvo fácil de comida. E sobre Elisabeta...? Aquela garota nem era tão parecida assim  "
        }, 
        
    },
    
    //FASE 3 -- TRÊS PERGUNTAS
    {
      "pergunta": {
                    "numero": "3",  
                    "texto": "Os Cullen falam demais! Qual ação Drácula deve tomar diante disso?  \n  A) OUVIR ELES FALAREM COM CURIOSIDADE  \n B)ATACAR \n C) IGNORAR O DISCURSO "
        },    
        "certa": {
                "letra": "A",
                "texto": "Drácula acha curioso o modo de vida daqueles vampiros e, dando uma ultima olhada para a casa da humana que lembrava sua ex esposa, ele seguiu-os floresta adentro"
                },
        "primeiroCenarioErro": {
            "letra": "B",
            "texto": "Resposta: B)Os rosnados acordaram o pai de Bela, que, armado, saiu de casa desferindo três tiros no Conde Drácula. Ele quis rir por um momento: quão vergonhosa seria a morte por mãos humanas? Mas as balas de Forks tem resquícios de prata, e seu corpo gélido foi ao chão antes mesmo que pudesse terminar de ouvir Bela gritar em desespero"
        },
         "segundoCenarioErro": {
            "letra": "C",
            "texto": "Drácula deveria ter prestado mais atenção! Sem muita paciência para aqueles vampiros esquisitos, decidiu que era a hora perfeita para mostrar como se comportavam vampiros de verdade. Sua estratégia de montar um exército, entretando, chamou a atenção dos Volturi e ele foi dilacerado"

        }
 },
    //FASE 4 -- 2 PERGUNTAS -- SE ESCOLHEU NÃO SEGUIR O CHEIRO NA FASE 1
    {
        "pergunta": {
                    "numero": "4",  
                    "texto": "O patriarca dos Cullen propôs uma conversa \n A)Aceitar a Conversa \n B) Reagir violentamente"
        }, 
        "certa": {
                "letra": "A",
                "texto": "Resposta A)\n Drácula decide ouvir o que ele tem a dizer! "
                },
        "primeiroCenarioErro": {
            "letra": "B",
            "texto": "Resposta B)\n Sem paciência, Drácula decide partir para o ataque!"

        }
        
    }, 
    //FASE 5 - 3 RESPOSTAS - SE ESCOLHEU REAGIR violentamente (FINALIZAÇÃO DO JOGO) - 3GAMEOVER!
    {
        "pergunta": {
                    "numero": "5",  
                    "texto": "Drácula decide que vai guerrear, mesmo em desvantagem! Qual golpe ele deve usar? A) Utilizar presas mortais / B) Utilizar blindagem de mente"
        }, 
        "certa": {
                "letra": "B",
                "texto": "Alice e Edward não conseguirtam prever o futuro, muito menos ler a mente do rei dos vampiros. Demorou um curto período de tempo para que ele conseguisse finalizar todos os seus adversários. Drácula voltou para o lugar do cheiro doce e transformou a garota do cabelo castanho em vampira... estava certo, era a reencarnação de Elisabeta. Quanto àquela cidade? Parecia que Forks não veria mais rastros de olhos douraods..."
                },
        "primeiroCenarioErro": {
            "letra": "A",
            "texto": "Resposta: A) Draco tentou atacar com presas mortais, mas Alice previu seu golpe. Ele foi imobilizado, e exposto ao sol. Antes de arder, viu o corpo brilhante dos outros vampiros... como era possível?"

        },
        "segundoCenarioErro": {
            "letra": "C",
            "texto": "Resposta: C) Eduard leu sua mente, e, antes que pudesse dar o seu golpe, já estava imobilizado."

        }
        
    }, 
    //FASE 6 - 2 RESPOSTAS --> SE ESCOLHEU CONVERSAR COM CARLISLE
    { 
       "pergunta": {
                    "numero": "6",  
                    "texto": "O estilo de vida deles é bem curioso! Era natural questionar se valia a pena ter ido até ali! \n A)Tentar beber sangue animal \n C) Eles são uma ameaça! Planejar a guerra"
        }, 
        "certa": {
                "letra": "A",
                "texto": "Drácula decide que vale a pena experimentar algo diferente!"
                },
        "primeiroCenarioErro": {
            "letra": "B",
            "texto": "Drácula não engoliu aquelas explicações. Vampiros com poderes? Estava claro que eram uma ameaça! Se esforçou para nublar seus pensamentos... era hora de mostrar quem mandava!"
        }      
        
    }, 
    //FASE 7 = 5: SE ESCOLHEU ATACAR, QUAL GOLPE VAI USAR?
        
     //FASE 8 -> 3 RESPOSTAS - DECIDIU PROVAR SANGUE ANIMAL
        
    
      { 
       "pergunta": {
                    "numero": "8",  
                    "texto": "Sangue animal? Como deve se sentir sobre isso? A) Não gostou B)Eca! C)Gostou"
        }, 
        "certa": {
                "letra": "C",
                "texto": "Não era igual, mas também era apetitoso... e a caçada? Emocionante. Com o tempo, Drácula ganhou poderosos olhos dourados. E, ainda que não pudesse sair de dia como os outros, via o olhar de curioso por poder dormir enquanto eles estavam fadados a uma eternidade acordados. Aquela família era gente boa, estava até pensanodo em adotar o nome Cullen."
                },
        "primeiroCenarioErro": {
            "letra": "B",
            "texto": "Eca! No primeiro gole, já perceu que aquilo não servia para si. Cansado daquele vai e vem e muito mais fraco do que gostaria, Drácula decidiu que voltaria para casa. Era melhor viver a eternidade com a janta gritando seu nome do que lutar com vmapiros e lobos esquisitos"

        },
          "segundoCenarioErro": {
            "letra": "A",
            "texto": "Era impossível gostar daquilo! Tentando não demonstrar muita repulsa, Draco deu adeus. Mas sua soberba não o deixou acreditar nas palavras dos Cullens e - já com fome, decidiu se alimentar por Forks mesmo. Mal havia cravado seus dentes no pescoço de uma vítima qualquer quando lobos uivaram, saindo da escuridão... ele simplesmente não podia mais ver nada"

        },
          
        
      
    }   
    
]

function verifica(personagem, fase, classeAntiga, classeAtual, ClasseModificadora) {    //vai verificar o personagem, a fase e as telas 
    
    //Personagem DRACULA
    switch (personagem) 
    {
        case 'dracula': //Verifica o personagem
            let conferencia = conferePergunta(dracView, fase); //confere se a resposta digitada bate com a pergunta e retorna 
            if (conferencia == true){ //recebe verdadeiro se a resposta estiver certa
                mudaPag(classeAntiga, classeAtual); //muda a pagina para uma nova questão 
            }
            else if (conferencia == false) {
                    mudaPag(classeAntiga, "gameOver");//muda a pagina para o endgame
            }
            
            else if (conferencia == "rota a")
                { //Confere as respostas das perguntas com bifurcação, ou seja, apenas duas possibilidades
                mudaPag(classeAntiga, classeAtual); // Se a resposta que o usuario der estiver dentro do padrão de resposta certa dentro da const do jogo, ele vai seguir para fase ideal em que deveria estar
                 }
            
            else if (conferencia == "rota b") 
                { //Se a resposta que o usuario der estiver errada dentro do padrão do jogo, ele retorna uma rota alternativa, a rota B, que leva para uma fase alternativa, passada através da classe modificadora. 
                    mudaPag(classeAntiga, ClasseModificadora); //muda a pagina para uma nova questão do cenário B
                }
        
            
            break;
            
            
        //Personagem BLADE    
            
        case 'blade':
            console.log ("blade");
            break;
    }
} 

function conferePerguntaComplexa (resp, view)
{ //Direciona as rotas para perguntas com bifurcação
    if ( view.certa.letra.toLowerCase() == resp)
    { 
        alert ("rota A");
            return "rota a";
    }
    else 
    { 
        alert ("rota B");
        return "rota b";
    }
   
    
} 

function conferePergunta(viewAtual, fase)
{ 
    for (let i=0; i<viewAtual.length ; i++ ) 
    {
        if (fase == viewAtual[i].pergunta.numero) 
        {
            let resposta = prompt (viewAtual[i].pergunta.texto);    //mostra as perguntas baseadas na fase atual 
                            
            if (typeof viewAtual[i].segundoCenarioErro == 'undefined') //verifica os padrões de entrada de perguntas complexas com 2 respostas que levam a dois cenários distintos (bifurcações). Esses não possuem um segundo cenário de erro 
            {   
                resposta = confereEntradaValida (resposta, viewAtual[i].pergunta.texto, "complexa"); //Confere se estão digitando A ou B
                return conferePerguntaComplexa (resposta, viewAtual[i]); //Diz se é rota A ou B, baseado na resposta do usuário para bifurcação
            }
                            
            else
            {
                resposta = confereEntradaValida (resposta, viewAtual[i].pergunta.texto, "simples"); //confere A, B ou C
                             
                if (resposta.toUpperCase() == viewAtual[i].certa.letra) //verifica se a resposta esta certa de acordo com a CONST
                {
                    alert(viewAtual[i].certa.texto);
                    return true; //retorna verdadeiro para a função Verifica
                                            
                } 

                else if (resposta.toUpperCase() == viewAtual[i].primeiroCenarioErro.letra) //Verifica se a pessoa errou no Cenário 1
                {
                    alert(viewAtual[i].primeiroCenarioErro.texto);
                    return false; //retorna falso para erro
                }
                                    
                else //testa o referente ao segundo cenario de erro
                {
                    alert(viewAtual[i].segundoCenarioErro.texto);
                    return false; //retorna falso para erro
                }
                              
            }
        } //IF
    } //for
}

function confereEntradaValida (respDada, questao, tipo){ //Verifica se o usuário está digitando A, B ou C
    if (tipo == "complexa") 
    {
        while (respDada.toLowerCase() != 'a' && respDada.toLowerCase() != 'b')
        {
            alert("Resposta Inválida! Digite A ou B");
            respDada = prompt (viewAtual[i].pergunta.texto);//Mostra a questão novamente para receber a nova entrada

        }
    }
    
    else if (tipo == "simples")
    {        while (respDada.toLowerCase() != 'a' && respDada.toLowerCase() != 'b' && respDada.toLowerCase() != 'c') //verifica 
        {
            alert("Resposta Inválida! Digite A, B ou C");
            respDada = prompt (viewAtual[i].pergunta.texto);//Mostra a questão novamente para receber a nova entrada

        }
    }
    
    else
    {
        alert ("Erro de lógica na função ConfereEntradaValida, a questão não é simples nem complexa");
    }
    
    
return respDada; 
}

function mudaPag(anterior, nova){ //Muda as paginas de pergunta

    let faseAnterior = document.querySelector("."+anterior); //tira a classe ACTIVE e coloca INACTIVE para a div ficar escondida 
       faseAnterior.classList.remove('active');
       faseAnterior.classList.add('inactive');
 
    
        let faseAtual = document.querySelector("."+nova); //adiciona a classe ACTIVE na div da vez
        faseAtual.classList.add('active');

    
    
        
    }
    